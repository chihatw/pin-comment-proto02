# `/app/image/[image_meta_id]` ディレクトリの使い方

このディレクトリは、特定画像（image_meta_id）に紐付く詳細ページやコメント・図形（Ellipse）などの機能を提供します。

## 主な使い方

1. **画像詳細ページの表示**

   - `page.tsx` で `image_meta_id` をパラメータとして受け取り、該当画像のメタデータ・コメント・図形情報を取得・表示します。
   - データ取得は `repositories/` 配下のリポジトリ経由で非同期に行います。

2. **UI 開発フロー**

   - まず `types/` で型定義を作成し、`mocks/` のモックデータで UI を設計します。
   - UI コンポーネントは表示機能に専念し、ロジックはカスタムフックやサービス層に分離してください。

3. **データアクセス**
   - 直接 localStorage などを操作せず、必ずリポジトリパターンを経由してください。
   - データ取得・保存は Promise ベースの非同期実装とします。

## 開発時の注意点

- 型・UI・ロジックの分離を徹底し、将来的なデータ永続化方式の変更に備えてください。
- Supabase 連携時は `@supabase/ssr` を利用し、公式ドキュメントの最新情報を参照してください。
- コメントや図形の追加・編集機能は今後拡張予定です。

## 拡張例

- 画像ごとにコメントをピン留めする機能の追加
- 図形（Ellipse）を画像上に描画・編集する機能の追加
- サーバーサイドでの認証・認可対応

---

詳細な設計方針やコーディング規約はプロジェクトルートの `README.md` も参照してください。
